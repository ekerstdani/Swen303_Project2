extends layout

block content
    nav(class="navbar navbar-default navbar-fixed-top")
        div(class="container-fluid")
            div(class="navbar-header")
                a(class="navbar-brand" href="/") !{title}

            div(class="collapse navbar-collapse" id="bs-example-navbar-collapse-1")
                ul(class="nav navbar-nav")
                    li
                        a(href="/") Home
                    li
                        a(href="/browse") Browse
                    li
                        a(href="/search") Search

                ul(class="nav navbar-nav navbar-right")
                    if signedInUser
                        li
                          a(href="/userPage" class="btn-primary" onmouseover="showOptions()" onmouseout="hideOptions()") !{signedInUser} &#x25BC;
                          span(id="userOptions" style="display:none; position: absolute;" onmouseover="showOptions()" onmouseout="hideOptions()")
                            a(href="/profile?user=" + id class="btn btn-default btn-sm") View public profile
                            a(href="/logout" class="btn btn-default btn-sm") Logout
                    else
                        li
                            a(href="/login") Sign In

    script(type='text/javascript').
      function showOptions() {
          document.getElementById('userOptions').style.display = 'block';
        };
    
        function hideOptions() {
          document.getElementById('userOptions').style.display = 'none';
        };

    br
    br
    br

    h1(align="center") !{product.title}

    br

    div(class="well" style="margin-left:20%; margin-right:20%;")

        if !inStock
            div(class="alert alert-dismissible alert-danger" id="message")
                button(type="button" class="close" onclick="hideMessage();") &times;
                p(align="center") Item not in Stock


        div(class="pull-right")
            p (product image)

        h1 !{product.label}

        h2(class="text-info") !{product.price}
            &nbsp;
            if(inStock)
                a(class="btn btn-primary btn-xs", href="/sold?uid=" + product.uid) Buy Now
            else
                a(class="btn btn-primary btn-xs", disabled="disabled") Not in Stock

        p !{product.description}